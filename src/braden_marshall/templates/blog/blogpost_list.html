{% extends "base.html" %}

{% block main %}
<article class="BlogPreviewList SiteContent__block">
  <header class="BlogPreviewList__header">
    <h1 class="BlogPreviewList__headLine">Blog Posts</h1>
    <div class="BlogPreviewList__byLine">
      <div class="BlogPreviewList__postCount">
        Showing <em>{{ page_obj.start_index }}</em> to <em>{{ page_obj.end_index }}</em> of {{ page_obj.paginator.count }} posts
      </div>
      <div class="BlogPreviewList__controls">
        <button class="BlogPreviewList__gridButton" type="button">
          <i class="fa fa-th" aria-hidden="true"></i>
        </button>
        <button class="BlogPreviewList__barButton" type="button">
          <i class="fa fa-bars" aria-hidden="true"></i>
        </button>
      </div>
    </div>
  </header>

  {% for blog_post in object_list %}
    <article class="BlogPreviewList__listing BlogPreviewListing">
      <header class="BlogPreviewListing__header">
        <img class="BlogPreviewListing__img" src="https://d3ui957tjb5bqd.cloudfront.net/uploads/images/3/38/38505.homepage.jpg?1472654077" width="270" height="180" alt="XYZ" />
        <h1 itemProp="headline" class="BlogPreviewListing__headLine">{{ blog_post.title }}</h1>
        <section class="BlogPreviewListing__byLine">
          <address class="BlogPreviewListing__address">
            By <a rel="author" href="www.bradenmarshall.co.uk">{{ blog_post.author }}</a>
          </address>
          <span class="Delimiter">â€¢</span>
          <time pubdate dateTime="{{ blog_post.publish }}">{{ blog_post.publish }}</time>
        </section>
      </header>
      <p class="BlogPreviewListing__content">{{ blog_post.excerpt }}</p>
      <footer class="BlogPreviewListing__footer">
        <a href="#more">Continue reading...</a>
      </footer>
    </article>
  {% empty %}
    <p>Sorry, no blog posts exist!</p>
  {% endfor %}

  {% if is_paginated %}
    <div class="pagination">
      <span class="page-links">
        {% if page_obj.has_previous %}
          <a href="/blog?page={{ page_obj.previous_page_number }}">previous</a>
        {% endif %}

        <span class="page-current">
        Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
        </span>

        {% if page_obj.has_next %}
          <a href="/blog?page={{ page_obj.next_page_number }}">next</a>
        {% endif %}
      </span>
    </div>
  {% endif %}
</article>
{% endblock %}
